@charset "UTF-8";

@import "lib/breakpoints.less";
@import "lib/colors.less";
@import "lib/fonts.less";
@import "lib/vars.less";

@import "directory-icon.less";

@inner-band-margin: percentage(-1 * @mobile-pad / (100% - 2 * @mobile-pad));

.search-band {
	background: #38431b url(../images/050419.jpg) 50% 50% no-repeat;

	p {
		margin-bottom: 0;
		text-align: right;
		margin: 1.5em auto 0;

		a {
			color: white;
			font-size: 0.8em;
		}
	}

	.single & {
		display: none !important;
	}
}

#directory-disclaim {

    a {
    	color: @ui03;
        text-decoration: none;
        text-shadow: none;
        background-color: fadeout(#000, 85%);
        border-radius: 0.317em;
        padding: 0.451em 0.802em;
    }
}

.card {
	margin-bottom: 1em;
	border-top: 5px solid @scarlet;
	background-color: #fff;
	box-shadow: 0 0 1px 1px fadeout(@ui14, 80%);

	.card-profile {
		margin: 1.33em 0 .75em 1.77em;
	}

	.card-content {
		padding: 0 1.77em 1.33em;

		> *:last-child,
		> .attribute:last-child {
			margin-bottom: 0;
		}
	}

	.dcf-subhead {
		margin-bottom: 0;
	}

	.description {
		margin: 1em 0 0;
		padding-top: 1em;
		border-top: 1px solid @ui04;
	}

	.vcard-tools {
  	padding-left: 1.77em;
  	padding-right: 1.77em;
	}
}

.help-container {

	.single &,
	.searching & {
		display: none !important;
	}
}

.pfResult {
  background-color: #fff;
  border: 1px solid #e3e3e2;

	> li {
		border-bottom: 1px solid #e3e3e2;
		cursor: pointer;
		margin-bottom: 0;
		padding: 1.33em 1.77em;

		&:focus {
			box-shadow: 0 0 10px @triad;
		}
	}

	.overflow {

		> .recordDetails {
			flex: 1 1 auto;
			align-self: center;
		}

		.roles {

			li:last-child {
				margin-bottom: 0;
			}

			.title,
			.organization-unit {
				display: block;
			}

			.organization-name {
				display: none;
			}
		}
	}

  > li:last-child {
    border-bottom: 0;
    margin-bottom: 0;
  }

	.given-name {
		margin-left: 1em;
		font-size: 1rem;
		.sans-serif-font();
		text-transform: uppercase;
		color: @ui08;
	}
}

#all_employees ~ .pfResult {

	.overflow {
		.organization-unit {
			display: none;
		}
	}
}

.results,
.pfResult {

	.vcard {
		position: relative;

		//Don't visually display by default, but keep it in the tab order
		button.close-full-record {
			position: absolute;
			right: 999em;
			display: block;
		}

		//on focus (via keyboard), visually display it
		button.close-full-record:focus {
			position: absolute;
			z-index: 5;
			right: 0;
		}
	}
}

.affiliation-heading {
  margin-bottom: 0;
}

.results + .results {
  margin-top: 2.37em;
}

.results-container {
	display: none !important;

	&.empty-filters {

		#filters,
		.summary {
			display: none;
		}

		#results {
			width: 100%;
		}
	}

	.searching & {
		display: block !important;
	}

	.results {

		.vcard {
			margin-top: 1em;
		}
	}

}

.record-container {

	.results-container ~ &,
	.searching & {
		display: none !important;
	}

	.record-single {
		display: none;
	}

	.single & {
		display: block !important;

		.knowledge-grid,
		.record-single {
			display: block;
		}
	}

	.vcard .headline a {
		color: inherit;
	}
}


#results,
.filter-options {

	&:focus {
		outline: none;
	}
}

#filters {

	ol {
		list-style: none;
		padding-left: 0;
	}

}

#results {

	> *:first-child {
		margin-top: 0;
	}
}

.results-container,
.record-container {

	.vcard {

		.card-profile {
			display: block;
		}

    .headline {
      letter-spacing: -.03em;
      margin-left: -.03em;
    }

		.attribute {
			padding-left: 1.77em;
			text-indent: -1.77em;
			margin-top: .75em;

			* {
				text-indent: 0;
			}

			&::before {
				text-indent: 0;
			}
		}

		.roles + .attribute {
  		margin-top: 1.33em;
		}

		.adr {

			.type {
				display: none;

				+ * {
					margin-top: -1.77em;
					display: block;
				}
			}

			.street-address {
				display: block;
			}

			.country-name {
				display: none;
			}
		}

		.tel {

			.type {
				display: none;
			}

			a.tel {
				display: block;
				margin-top: -1.5em;
			}
		}

		.roles {
			border-bottom: 1px solid @ui04;

			> .org:last-child {
				margin-bottom: 1.33em;
			}

			.title {
				display: block;
			}

			.organization-unit {
				display: block;
			}

			.parent-unl {

				.organization-name {
					display: none;
				}
			}
		}

		.fn,
		.given-name,
		.icon-link {
			vertical-align: middle;
		}

		.given-name {
			margin-left: 1em;
			font-size: 1rem;
			.sans-serif-font();
			text-transform: uppercase;
			color: @ui08;
		}

		button {
			border: 0;
			background: none;
			color: @brand;

			&:focus {
				outline: 1px dotted;
			}
		}
	}
}

.wdn_annotate_note {
	width: 100%;
	height: 100%;
	border: 0;
}

.directory-head {
	background-color: @ui02;
	.sans-serif-font();
}

.vcard-tools.primary > * {
  min-width: 25%;
  max-width: 50%;
  flex-basis: calc((23.68rem - 100%) * 999);
}

.vcard-tools.primary span[class^='icon-'] {
  display: block;
  font-size: 2.37em;
}

.vcard-tools.primary span[class^='icon-']::before {
  margin-right: 0;
}

.directory-knowledge-section + .directory-knowledge-section {
  border-top: 1px solid @ui04;
  padding-top: 1.33em;
}

.directory-knowledge-section-heading {
  padding-left: 2.37rem;
}

.directory-knowledge-item + .directory-knowledge-item {
  margin-top: .75em;
}

.knowledge-grid .vcard {
	margin-bottom: 1em;
}

#editBox {

	.icon-help::before {
		font-size: 1rem;
		vertical-align: middle;
	}

	.aliases,
	.users {
		ul {
			list-style: none;
			padding: 0 0 1em;
			border-bottom: 1px solid @ui04;
			margin-bottom: 1em;

			li {
				padding: .5em 0;
				clear: both;
			}

			form {
				float: right;
			}
		}
	}

	.forms {
		display: none;
	}
}

#listings {

	h2 {
		background-color: #ffc;
		padding: 1em 1.77rem 1rem;
	}

	.editing {
		li {
			position: relative;

			.listingDetails {
				min-height: 2.313em; // ensure the positioned edit button has clearance
				margin-right: 4em;
			}

			.tools {
				position: absolute;
				top: 0.5em;
				right: 0;
			}
		}

		.forms {
			display: none;
		}
	}

	.ui-sortable {
		li > div {
			cursor: move;
		}
	}

	> ol > li:first-child {
		padding-top: 0;
	}

	ol {
		list-style: none;
		padding: 0;

		li {
			border-bottom: 1px dotted @ui04;
			padding: 0.5em 0;
		}

		ol {
			padding-left: 1.5em;

			li {
				border-left: 1px dotted @ui04;
				padding: 0.5em 0 0.5em 0.5em;

				&:last-child {
					border-bottom: 0;
					margin-bottom: -0.5em;
				}
			}
		}
	}

	.phone,
	.website,
	.email,
	.room,
	.adr,
	.postal-code {
		display: block;
	}
}

.modal-overlay {
  background-color: rgba(254,253,250,.98);
	opacity: 0;
	overflow: auto;
	transition: opacity 400ms, visibility 400ms;
	visibility: hidden;
	z-index: 300;

	&.show {
		opacity: 1;
		transition: opacity 400ms, visibility 0s;
		visibility: visible;
	}
}

.modal-overlay::before,
.modal-overlay::after {
  content: '';
  display: block;
  flex-grow: 1;
  height: 1.77em;
  min-height: 1.77em;
}

.modal-content {
	max-width: 42.09em;
	box-shadow: 0 0 1px 1px fadeout(@ui14, 80%);

	&:focus {
		outline: 0;
	}

	.icon-trash {
		margin: 1em 0;
	}

	.forms {
		margin: 8% 0;

		.delete, .sortform {
			display: none;
		}

		.add-form {
			display: none;
		}

		&.show-add {
			> * {
				display: none;
			}

			.add-form {
				display: block;
			}
		}
	}
}

.modal-content .wdn-icon-cancel::before {
  margin-right: 0;
}

#orgChart ul::before {
  font-size: 1.33em; // Enlarge arrow icon
}

.corrections-template {
	display: none;
}

// Manually hide
[data-uid="kfarrell2"] .given-name {
	display: none;
}

.programmatically-focused:focus {
    //don't show visual focus on these programmatic actions, as focus change is indicated in other ways (such as the showing of new content). JS will remove this class when focus is changed again.
    outline: none;
}

@import "directory-print.less";
